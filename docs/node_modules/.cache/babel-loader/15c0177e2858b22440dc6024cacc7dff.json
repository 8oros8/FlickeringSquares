{"ast":null,"code":"var _jsxFileName = \"/Users/andreysmirnov/Documents/\\u0424\\u0440\\u043E\\u043D\\u0442/flickeringSquares/flickeringsquares/src/index.js\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet gameOptions = {\n  numberRows: 4,\n  numberColumns: 4,\n  complexity: 5\n};\n\nclass Square extends React.Component {\n  constructor() {\n    super(...arguments);\n\n    this.activateButton = function (e) {\n      e.target.style.backgroundColor = 'white';\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"square\",\n      id: this.coords[0] + \":\" + this.coords[1],\n      onClick: this.activateButton,\n      children: this.props.value\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nclass Row extends React.Component {\n  constructor() {\n    super(...arguments);\n\n    this.renderSquares = function (counter, rowNumber) {\n      let renderArray = [];\n\n      for (let i = 0; i < counter; i++) {\n        renderArray.push( /*#__PURE__*/_jsxDEV(Square, {\n          coords: [rowNumber, i],\n          flickeringMemory: this.props.flickeringMemory\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 30\n        }, this));\n      }\n\n      return renderArray;\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"board-row\",\n      children: this.renderSquares(gameOptions.numberColumns, this.props.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nclass Board extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      flickeringMemory: [],\n      levelPassed: true\n    };\n\n    this.clickHandler = function () {\n      // noinspection JSPotentiallyInvalidUsageOfClassThis\n      if (this.state.levelPassed === true) {\n        // noinspection JSPotentiallyInvalidUsageOfClassThis\n        this.setState({\n          levelPassed: false,\n          flickeringMemory: this.startFlickering()\n        });\n      }\n    };\n\n    this.clickHandler = this.clickHandler.bind(this);\n\n    this.renderRows = function (counter) {\n      let renderArray = [];\n\n      for (let i = 0; i < counter; i++) {\n        renderArray.push( /*#__PURE__*/_jsxDEV(Row, {\n          value: i,\n          flickeringMemory: this.state.flickeringMemory\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 30\n        }, this));\n      }\n\n      return renderArray;\n    };\n\n    this.randomFlicker = function (root) {\n      let elementsArray = Array.from(root.querySelectorAll('.square'));\n      elementsArray.sort(() => Math.random() - 0.5);\n      return elementsArray.slice(0, gameOptions.complexity);\n    };\n\n    this.startFlickering = function () {\n      let flickeringArray = this.randomFlicker(document.getElementById('root'));\n\n      for (let i = 0; i < flickeringArray.length; i++) {\n        let timeout = i === 0 ? 0 : i * 1000;\n        setTimeout(function () {\n          flickeringArray[i].style.background = 'white';\n        }, timeout);\n        setTimeout(function () {\n          flickeringArray[i].style.background = '#799E00';\n        }, timeout + 900);\n      }\n\n      return flickeringArray;\n    };\n\n    this.startFlickering = this.startFlickering.bind(this);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [this.renderRows(gameOptions.numberRows), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: 'startButton',\n        onClick: this.clickHandler,\n        children: \"Start\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nclass Game extends React.Component {\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"game\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"game-board\",\n        children: /*#__PURE__*/_jsxDEV(Board, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nReactDOM.render( /*#__PURE__*/_jsxDEV(Game, {}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 110,\n  columnNumber: 5\n}, this), document.getElementById('root'));","map":{"version":3,"sources":["/Users/andreysmirnov/Documents/Фронт/flickeringSquares/flickeringsquares/src/index.js"],"names":["React","ReactDOM","gameOptions","numberRows","numberColumns","complexity","Square","Component","activateButton","e","target","style","backgroundColor","render","coords","props","value","Row","renderSquares","counter","rowNumber","renderArray","i","push","flickeringMemory","Board","state","levelPassed","clickHandler","setState","startFlickering","bind","renderRows","randomFlicker","root","elementsArray","Array","from","querySelectorAll","sort","Math","random","slice","flickeringArray","document","getElementById","length","timeout","setTimeout","background","Game"],"mappings":"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","sourcesContent":["\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\n\nlet gameOptions = {\n    numberRows: 4,\n    numberColumns: 4,\n    complexity: 5,\n}\n\nclass Square extends React.Component {\n    activateButton = function (e) {\n        e.target.style.backgroundColor = 'white'\n    }\n    render() {\n        return (\n            <button className=\"square\" id={this.coords[0] + \":\" + this.coords[1]} onClick={this.activateButton}>\n                {this.props.value}\n            </button>\n        );\n    }\n}\n\nclass Row extends React.Component {\n    renderSquares = function (counter, rowNumber) {\n        let renderArray = []\n        for (let i = 0; i < counter; i++) {\n            renderArray.push(<Square key = {i} coords = {[rowNumber, i]} flickeringMemory = {this.props.flickeringMemory}/>)\n        }\n        return renderArray\n    }\n    render() {\n        return (\n            <div className=\"board-row\">\n                {this.renderSquares(gameOptions.numberColumns, this.props.value)}\n            </div>\n        )\n    }\n}\n\nclass Board extends React.Component {\n    state = {\n        flickeringMemory: [],\n        levelPassed: true,\n    }\n    clickHandler = function () {\n        // noinspection JSPotentiallyInvalidUsageOfClassThis\n        if (this.state.levelPassed === true) {\n            // noinspection JSPotentiallyInvalidUsageOfClassThis\n            this.setState({\n                levelPassed: false,\n                flickeringMemory: this.startFlickering(),\n            })\n        }\n    }\n    clickHandler = this.clickHandler.bind(this)\n    renderRows = function (counter) {\n        let renderArray = []\n        for (let i = 0; i < counter; i++) {\n            renderArray.push(<Row key={i} value = {i} flickeringMemory = {this.state.flickeringMemory}/>)\n        }\n        return renderArray\n    }\n    randomFlicker = function (root) {\n        let elementsArray = Array.from(root.querySelectorAll('.square'))\n        elementsArray.sort(() => Math.random() - 0.5)\n        return elementsArray.slice(0, gameOptions.complexity)\n    }\n\n    startFlickering = function () {\n        let flickeringArray = this.randomFlicker(document.getElementById('root'))\n        for (let i = 0; i < flickeringArray.length; i++) {\n            let timeout = i === 0? 0 : i * 1000\n            setTimeout(function () {\n                flickeringArray[i].style.background = 'white'\n            }, timeout)\n            setTimeout(function () {\n                flickeringArray[i].style.background = '#799E00'\n            }, timeout+900)\n        }\n        return flickeringArray\n    }\n    startFlickering = this.startFlickering.bind(this)\n    render() {\n        return (\n            <div>\n                {this.renderRows(gameOptions.numberRows)}\n                <button className={'startButton'} onClick={this.clickHandler}>\n                    Start\n                </button>\n            </div>\n        );\n    }\n}\n\nclass Game extends React.Component {\n    render() {\n        return (\n            <div className=\"game\">\n                <div className=\"game-board\">\n                    <Board />\n                </div>\n            </div>\n        );\n    }\n}\n\nReactDOM.render(\n    <Game />,\n    document.getElementById('root')\n);\n\n"]},"metadata":{},"sourceType":"module"}